var mr_firstSectionHeight,mr_nav,mr_navOuterHeight,mr_navScrolled=false,mr_navFixed=false,mr_outOfSight=false,mr_floatingProjectSections,mr_scrollTop=0;$(document).ready(function(){$(".inner-link").each(function(){var g=$(this).attr("href");if(g.charAt(0)!=="#"){$(this).removeClass("inner-link")}});if($(".inner-link").length){$(".inner-link").smoothScroll({offset:-55,speed:800})}addEventListener("scroll",function(){mr_scrollTop=window.pageYOffset},false);$(".background-image-holder").each(function(){var g=$(this).children("img").attr("src");$(this).css("background",'url("'+g+'")');$(this).children("img").hide();$(this).css("background-position","initial")});setTimeout(function(){$(".background-image-holder").each(function(){$(this).addClass("fadeIn")})},200);$('[data-toggle="tooltip"]').tooltip();$("ul[data-bullet]").each(function(){var g=$(this).attr("data-bullet");$(this).find("li").prepend('<i class="'+g+'"></i>')});$(".checkbox-option").click(function(){$(this).toggleClass("checked");var g=$(this).find("input");if(g.prop("checked")===false){g.prop("checked",true)}else{g.prop("checked",false)}});$(".radio-option").click(function(){var h=$(this).hasClass("checked");var g=$(this).find("input").attr("name");if(!h){$('input[name="'+g+'"]').parent().removeClass("checked");$(this).addClass("checked");$(this).find("input").prop("checked",true)}});$(".accordion li").click(function(){if($(this).closest(".accordion").hasClass("one-open")){$(this).closest(".accordion").find("li").removeClass("active");$(this).addClass("active")}else{$(this).toggleClass("active")}});$(".tabbed-content").each(function(){$(this).append('<ul class="content"></ul>')});$(".tabs li").each(function(){var i=$(this),g="";if(i.is(".tabs>li:first-child")){g=' class="active"'}var h=i.find(".tab-content").detach().wrap("<li"+g+"></li>").parent();i.closest(".tabbed-content").find(".content").append(h)});$(".tabs li").click(function(){$(this).closest(".tabs").find("li").removeClass("active");$(this).addClass("active");var g=$(this).index()+1;$(this).closest(".tabbed-content").find(".content>li").removeClass("active");$(this).closest(".tabbed-content").find(".content>li:nth-of-type("+g+")").addClass("active")});$(".progress-bar").each(function(){$(this).css("width",$(this).attr("data-progress")+"%")});if(!$("nav").hasClass("fixed")&&!$("nav").hasClass("absolute")){$(".nav-container").css("min-height",$("nav").outerHeight(true));$(window).resize(function(){$(".nav-container").css("min-height",$("nav").outerHeight(true))});if($(window).width()>768){$(".parallax:nth-of-type(1) .background-image-holder").css("top",-($("nav").outerHeight(true)))}if($(window).width()>768){$("section.fullscreen:nth-of-type(1)").css("height",($(window).height()-$("nav").outerHeight(true)))}}else{$("body").addClass("nav-is-overlay")}if($("nav").hasClass("bg-dark")){$(".nav-container").addClass("bg-dark")}mr_nav=$("body .nav-container nav:first");mr_navOuterHeight=$("body .nav-container nav:first").outerHeight();window.addEventListener("scroll",updateNav,false);$(".menu > li > ul").each(function(){var i=$(this).offset();var g=i.left+$(this).outerWidth(true);if(g>$(window).width()&&!$(this).hasClass("mega-menu")){$(this).addClass("make-right")}else{if(g>$(window).width()&&$(this).hasClass("mega-menu")){var h=$(window).width()-i.left;var j=$(this).outerWidth(true)-h;$(this).css("margin-left",-(j))}}});$(".mobile-toggle").click(function(){$(".nav-bar").toggleClass("nav-open");$(this).toggleClass("active")});$(".menu li").click(function(g){if(!g){g=window.event}g.stopPropagation();if($(this).find("ul").length){$(this).toggleClass("toggle-sub")}else{$(this).parents(".toggle-sub").removeClass("toggle-sub")}});$(".module.widget-handle").click(function(){$(this).toggleClass("toggle-widget-handle")});$(".search-widget-handle .search-form input").click(function(g){if(!g){g=window.event}g.stopPropagation()});if($(".offscreen-toggle").length){$("body").addClass("has-offscreen-nav")}else{$("body").removeClass("has-offscreen-nav")}$(".offscreen-toggle").click(function(){$(".main-container").toggleClass("reveal-nav");$("nav").toggleClass("reveal-nav");$(".offscreen-container").toggleClass("reveal-nav")});$(".main-container").click(function(){if($(this).hasClass("reveal-nav")){$(this).removeClass("reveal-nav");$(".offscreen-container").removeClass("reveal-nav");$("nav").removeClass("reveal-nav")}});$(".offscreen-container a").click(function(){$(".offscreen-container").removeClass("reveal-nav");$(".main-container").removeClass("reveal-nav");$("nav").removeClass("reveal-nav")});$(".projects").each(function(){var g="";$(this).find(".project").each(function(){var h=$(this).attr("data-filter").split(",");h.forEach(function(i){if(g.indexOf(i)==-1){g+='<li data-filter="'+i+'">'+capitaliseFirstLetter(i)+"</li>"}});$(this).closest(".projects").find("ul.filters").empty().append('<li data-filter="all" class="active">All</li>').append(g)})});$(".filters li").click(function(){var g=$(this).attr("data-filter");$(this).closest(".filters").find("li").removeClass("active");$(this).addClass("active");$(this).closest(".projects").find(".project").each(function(){var h=$(this).data("filter");if(h.indexOf(g)==-1){$(this).addClass("inactive")}else{$(this).removeClass("inactive")}});if(g=="all"){$(this).closest(".projects").find(".project").removeClass("inactive")}});$(".tweets-feed").each(function(g){$(this).attr("id","tweets-"+g)}).each(function(h){function g(l){var i=l.length;var m=0;var k=document.getElementById("tweets-"+h);var j='<ul class="slides">';while(m<i){j+="<li>"+l[m]+"</li>";m++}j+="</ul>";k.innerHTML=j;return j}twitterFetcher.fetch($("#tweets-"+h).attr("data-widget-id"),"",5,true,true,true,"",false,g)});if($(".instafeed").length){jQuery.fn.spectragram.accessData={accessToken:"1406933036.fedaafa.feec3d50f5194ce5b705a1f11a107e0b",clientID:"fedaafacf224447e8aef74872d3820a1"}}$(".instafeed").each(function(){var g=$(this).attr("data-user-name")+"_";$(this).children("ul").spectragram("getUserFeed",{query:g,max:12})});if($(".flickr-feed").length){$(".flickr-feed").each(function(){var h=$(this).attr("data-user-id");var g=$(this).attr("data-album-id");$(this).flickrPhotoStream({id:h,setId:g,container:'<li class="masonry-item" />'})})}$(".slider-all-controls").flexslider({start:function(g){if(g.find(".slides li:first-child").find(".fs-vid-background video").length){g.find(".slides li:first-child").find(".fs-vid-background video").get(0).play()}},after:function(g){if(g.find(".fs-vid-background video").length){if(g.find("li:not(.flex-active-slide)").find(".fs-vid-background video").length){g.find("li:not(.flex-active-slide)").find(".fs-vid-background video").get(0).pause()}if(g.find(".flex-active-slide").find(".fs-vid-background video").length){g.find(".flex-active-slide").find(".fs-vid-background video").get(0).play()}}}});$(".slider-paging-controls").flexslider({animation:"slide",directionNav:false});$(".slider-arrow-controls").flexslider({controlNav:false});$(".slider-thumb-controls .slides li").each(function(){var g=$(this).find("img").attr("src");$(this).attr("data-thumb",g)});$(".slider-thumb-controls").flexslider({animation:"slide",controlNav:"thumbnails",directionNav:true});$(".logo-carousel").flexslider({minItems:1,maxItems:4,move:1,itemWidth:200,itemMargin:0,animation:"slide",slideshow:true,slideshowSpeed:3000,directionNav:false,controlNav:false});$(".lightbox-grid li a").each(function(){var g=$(this).closest(".lightbox-grid").attr("data-gallery-title");$(this).attr("data-lightbox",g)});if($(".foundry_modal").length){var d=$('<div class="modal-screen">').appendTo("body")}$(".modal-container").each(function(g){if($(this).find("iframe[src]").length){$(this).find(".foundry_modal").addClass("iframe-modal");var h=$(this).find("iframe");var i=h.attr("src");h.attr("src","");h.data("data-src");h.attr("data-src",i)}$(this).find(".btn-modal").attr("modal-link",g);$(this).find(".foundry_modal").clone().appendTo("body").attr("modal-link",g).prepend($('<i class="ti-close close-modal">'))});$(".btn-modal").click(function(){var g=$("section").closest("body").find('.foundry_modal[modal-link="'+$(this).attr("modal-link")+'"]');$(".modal-screen").toggleClass("reveal-modal");if(g.find("iframe").length){g.find("iframe").attr("src",g.find("iframe").attr("data-src"))}g.toggleClass("reveal-modal");return false});$(".foundry_modal[data-time-delay]").each(function(){var h=$(this);var g=h.attr("data-time-delay");h.prepend($('<i class="ti-close close-modal">'));if(typeof h.attr("data-cookie")!="undefined"){if(!mr_cookies.hasItem(h.attr("data-cookie"))){setTimeout(function(){h.addClass("reveal-modal");$(".modal-screen").addClass("reveal-modal")},g)}}else{setTimeout(function(){h.addClass("reveal-modal");$(".modal-screen").addClass("reveal-modal")},g)}});$(".close-modal:not(.modal-strip .close-modal)").click(function(){var g=$(this).closest(".foundry_modal");g.toggleClass("reveal-modal");if(typeof g.attr("data-cookie")!="undefined"){mr_cookies.setItem(g.attr("data-cookie"),"true",Infinity)}$(".modal-screen").toggleClass("reveal-modal")});$(".modal-screen").click(function(){$(".foundry_modal.reveal-modal").toggleClass("reveal-modal");$(this).toggleClass("reveal-modal")});$(document).keyup(function(g){if(g.keyCode==27){$(".foundry_modal").removeClass("reveal-modal");$(".modal-screen").removeClass("reveal-modal")}});$(".modal-strip").each(function(){if(!$(this).find(".close-modal").length){$(this).append($('<i class="ti-close close-modal">'))}var g=$(this);if(typeof g.attr("data-cookie")!="undefined"){if(!mr_cookies.hasItem(g.attr("data-cookie"))){setTimeout(function(){g.addClass("reveal-modal")},1000)}}else{setTimeout(function(){g.addClass("reveal-modal")},1000)}});$(".modal-strip .close-modal").click(function(){var g=$(this).closest(".modal-strip");if(typeof g.attr("data-cookie")!="undefined"){mr_cookies.setItem(g.attr("data-cookie"),"true",Infinity)}$(this).closest(".modal-strip").removeClass("reveal-modal");return false});$("section").closest("body").find(".modal-video[video-link]").remove();$(".modal-video-container").each(function(g){$(this).find(".play-button").attr("video-link",g);$(this).find(".modal-video").clone().appendTo("body").attr("video-link",g)});$(".modal-video-container .play-button").click(function(){var g=$("section").closest("body").find('.modal-video[video-link="'+$(this).attr("video-link")+'"]');g.toggleClass("reveal-modal");if(g.find("video").length){g.find("video").get(0).play()}if(g.find("iframe").length){var h=g.find("iframe");var j=h.attr("data-src");var i;if(j.indexOf("vimeo")>-1){i="&autoplay=1"}else{i="?autoplay-1"}var j=h.attr("data-src")+i;h.attr("src",j)}});$("section").closest("body").find(".close-iframe").click(function(){$(this).closest(".modal-video").toggleClass("reveal-modal");$(this).siblings("iframe").attr("src","");$(this).siblings("video").get(0).pause()});$("section").closest("body").find(".local-video-container .play-button").click(function(){$(this).siblings(".background-image-holder").removeClass("fadeIn");$(this).siblings(".background-image-holder").css("z-index",-1);$(this).css("opacity",0);$(this).siblings("video").get(0).play()});$("section").closest("body").find(".player").each(function(){var g=$(this).closest("section");g.find(".container").addClass("fadeOut");var h=$(this).attr("data-video-id");var i=$(this).attr("data-start-at");$(this).attr("data-property","{videoURL:'http://youtu.be/"+h+"',containment:'self',autoPlay:true, mute:true, startAt:"+i+", opacity:1, showControls:false}")});if($(".player").length){$(".player").each(function(){var h=$(this).closest("section");var g=h.find(".player");g.YTPlayer();g.on("YTPStart",function(i){h.find(".container").removeClass("fadeOut");h.find(".masonry-loader").addClass("fadeOut")})})}$(".map-holder").click(function(){$(this).addClass("interact")});if($(".map-holder").length){$(window).scroll(function(){if($(".map-holder.interact").length){$(".map-holder.interact").removeClass("interact")}})}if($(".countdown").length){$(".countdown").each(function(){var g=$(this).attr("data-date");$(this).countdown(g,function(h){$(this).text(h.strftime("%D days %H:%M:%S"))})})}$("form.form-email, form.form-newsletter").submit(function(l){if(l.preventDefault){l.preventDefault()}else{l.returnValue=false}var j=$(this).closest("form.form-email, form.form-newsletter"),n=0,m=j.attr("original-error"),h,g,i,k,p,o,q;g=$(j).find("iframe.mail-list-form");j.find(".form-error, .form-success").remove();j.append('<div class="form-error" style="display: none;">'+j.attr("data-error")+"</div>");j.append('<div class="form-success" style="display: none;">'+j.attr("data-success")+"</div>");if((g.length)&&(typeof g.attr("srcdoc")!=="undefined")&&(g.attr("srcdoc")!=="")){console.log("Mail list form signup detected.");i=$(j).find(".signup-email-field").val();k=$(j).find(".signup-name-field").val();if($(j).find("input.signup-first-name-field").length){p=$(j).find("input.signup-first-name-field").val()}else{p=$(j).find(".signup-name-field").val()}o=$(j).find(".signup-last-name-field").val();if(e(j)!==1){console.log("Mail list signup form validation passed.");console.log(i);console.log(o);console.log(p);console.log(k);g.contents().find("#mce-EMAIL, #fieldEmail").val(i);g.contents().find("#mce-LNAME, #fieldLastName").val(o);g.contents().find("#mce-FNAME, #fieldFirstName").val(p);g.contents().find("#mce-NAME, #fieldName").val(k);g.contents().find("form").attr("target","_blank").submit();q=j.attr("success-redirect");if(typeof q!==typeof undefined&&q!==false&&q!==""){window.location=q}}else{j.find(".form-error").fadeIn(1000);setTimeout(function(){j.find(".form-error").fadeOut(500)},5000)}}else{console.log("Send email form detected.");if(typeof m!==typeof undefined&&m!==false){j.find(".form-error").text(m)}n=e(j);if(n===1){$(this).closest("form").find(".form-error").fadeIn(200);setTimeout(function(){$(j).find(".form-error").fadeOut(500)},3000)}else{$(this).closest("form").find(".form-error").fadeOut(200);h=jQuery("<div />").addClass("form-loading").insertAfter($(j).find('input[type="submit"]'));$(j).find('input[type="submit"]').hide();jQuery.ajax({type:"POST",url:"mail/mail.php",data:j.serialize(),success:function(r){$(j).find(".form-loading").remove();$(j).find('input[type="submit"]').show();if($.isNumeric(r)){if(parseInt(r)>0){q=j.attr("success-redirect");if(typeof q!==typeof undefined&&q!==false&&q!==""){window.location=q}j.find('input[type="text"]').val("");j.find("textarea").val("");j.find(".form-success").fadeIn(1000);j.find(".form-error").fadeOut(1000);setTimeout(function(){j.find(".form-success").fadeOut(500)},5000)}}else{j.find(".form-error").attr("original-error",j.find(".form-error").text());j.find(".form-error").text(r).fadeIn(1000);j.find(".form-success").fadeOut(1000)}},error:function(t,r,s){j.find(".form-error").attr("original-error",j.find(".form-error").text());j.find(".form-error").text(s).fadeIn(1000);j.find(".form-success").fadeOut(1000);$(j).find(".form-loading").remove();$(j).find('input[type="submit"]').show()}})}}return false});$(".validate-required, .validate-email").on("blur change",function(){e($(this).closest("form"))});$("form").each(function(){if($(this).find(".form-error").length){$(this).attr("original-error",$(this).find(".form-error").text())}});function e(j){var i,h,g;$(j).find('.validate-required[type="checkbox"]').each(function(){if(!$('[name="'+$(this).attr("name")+'"]:checked').length){h=1;i=$(this).attr("name").replace("[]","");j.find(".form-error").text("Please tick at least one "+i+" box.")}});$(j).find(".validate-required").each(function(){if($(this).val()===""){$(this).addClass("field-error");h=1}else{$(this).removeClass("field-error")}});$(j).find(".validate-email").each(function(){if(!(/(.+)@(.+){2,}\.(.+){2,}/.test($(this).val()))){$(this).addClass("field-error");h=1}else{$(this).removeClass("field-error")}});if(!j.find(".field-error").length){j.find(".form-error").fadeOut(1000)}return h}if(c("ref")){$("form.form-email").append('<input type="text" name="referrer" class="hidden" value="'+c("ref")+'"/>')}function c(g){return decodeURIComponent((new RegExp("[?|&]"+g+"=([^&;]+?)(&|#|;|$)").exec(location.search)||[,""])[1].replace(/\+/g,"%20"))||null}if((/Android|iPhone|iPad|iPod|BlackBerry|Windows Phone/i).test(navigator.userAgent||navigator.vendor||window.opera)){$("section").removeClass("parallax")}if($(".disqus-comments").length){var b=$(".disqus-comments").attr("data-shortname");(function(){var g=document.createElement("script");g.type="text/javascript";g.async=true;g.src="//"+b+".disqus.com/embed.js";(document.getElementsByTagName("head")[0]||document.getElementsByTagName("body")[0]).appendChild(g)})()}if(document.querySelector("[data-maps-api-key]")&&!document.querySelector(".gMapsAPI")){if($("[data-maps-api-key]").length){var a=document.createElement("script");var f=$("[data-maps-api-key]:first").attr("data-maps-api-key");a.type="text/javascript";a.src="https://maps.googleapis.com/maps/api/js?key="+f+"&callback=initializeMaps";a.className="gMapsAPI";document.body.appendChild(a)}}});$(window).load(function(){if($(".masonry").length){var a=document.querySelector(".masonry");var c=new Masonry(a,{itemSelector:".masonry-item"});c.on("layoutComplete",function(){mr_firstSectionHeight=$(".main-container section:nth-of-type(1)").outerHeight(true);if($(".filters.floating").length){setupFloatingProjectFilters();updateFloatingFilters();window.addEventListener("scroll",updateFloatingFilters,false)}$(".masonry").addClass("fadeIn");$(".masonry-loader").addClass("fadeOut");if($(".masonryFlyIn").length){masonryFlyIn()}});c.layout()}var b=setInterval(function(){if($(".tweets-slider").find("li.flex-active-slide").length){clearInterval(b);return}else{if($(".tweets-slider").length){$(".tweets-slider").flexslider({directionNav:false,controlNav:false})}}},500);mr_firstSectionHeight=$(".main-container section:nth-of-type(1)").outerHeight(true)});function updateNav(){var a=mr_scrollTop;if(a<=0){if(mr_navFixed){mr_navFixed=false;mr_nav.removeClass("fixed")}if(mr_outOfSight){mr_outOfSight=false;mr_nav.removeClass("outOfSight")}if(mr_navScrolled){mr_navScrolled=false;mr_nav.removeClass("scrolled")}return}if(a>mr_firstSectionHeight){if(!mr_navScrolled){mr_nav.addClass("scrolled");mr_navScrolled=true;return}}else{if(a>mr_navOuterHeight){if(!mr_navFixed){mr_nav.addClass("fixed");mr_navFixed=true}if(a>mr_navOuterHeight*2){if(!mr_outOfSight){mr_nav.addClass("outOfSight");mr_outOfSight=true}}else{if(mr_outOfSight){mr_outOfSight=false;mr_nav.removeClass("outOfSight")}}}else{if(mr_navFixed){mr_navFixed=false;mr_nav.removeClass("fixed")}if(mr_outOfSight){mr_outOfSight=false;mr_nav.removeClass("outOfSight")}}if(mr_navScrolled){mr_navScrolled=false;mr_nav.removeClass("scrolled")}}}function capitaliseFirstLetter(a){return a.charAt(0).toUpperCase()+a.slice(1)}function masonryFlyIn(){var b=$(".masonryFlyIn .masonry-item");var a=0;b.each(function(){var c=$(this);setTimeout(function(){c.addClass("fadeIn")},a);a+=170})}function setupFloatingProjectFilters(){mr_floatingProjectSections=[];$(".filters.floating").closest("section").each(function(){var a=$(this);mr_floatingProjectSections.push({section:a.get(0),outerHeight:a.outerHeight(),elemTop:a.offset().top,elemBottom:a.offset().top+a.outerHeight(),filters:a.find(".filters.floating"),filersHeight:a.find(".filters.floating").outerHeight(true)})})}function updateFloatingFilters(){var a=mr_floatingProjectSections.length;while(a--){var b=mr_floatingProjectSections[a];if((b.elemTop<mr_scrollTop)&&typeof window.mr_variant=="undefined"){b.filters.css({position:"fixed",top:"16px",bottom:"auto"});if(mr_navScrolled){b.filters.css({transform:"translate3d(-50%,48px,0)"})}if(mr_scrollTop>(b.elemBottom-70)){b.filters.css({position:"absolute",bottom:"16px",top:"auto"});b.filters.css({transform:"translate3d(-50%,0,0)"})}}else{b.filters.css({position:"absolute",transform:"translate3d(-50%,0,0)"})}}}window.initializeMaps=function(){if(typeof google!=="undefined"){if(typeof google.maps!=="undefined"){$(".map-canvas[data-maps-api-key]").each(function(){var e=this,c=typeof $(this).attr("data-map-style")!=="undefined"?$(this).attr("data-map-style"):false,k=JSON.parse(c)||[{featureType:"landscape",stylers:[{saturation:-100},{lightness:65},{visibility:"on"}]},{featureType:"poi",stylers:[{saturation:-100},{lightness:51},{visibility:"simplified"}]},{featureType:"road.highway",stylers:[{saturation:-100},{visibility:"simplified"}]},{featureType:"road.arterial",stylers:[{saturation:-100},{lightness:30},{visibility:"on"}]},{featureType:"road.local",stylers:[{saturation:-100},{lightness:40},{visibility:"on"}]},{featureType:"transit",stylers:[{saturation:-100},{visibility:"simplified"}]},{featureType:"administrative.province",stylers:[{visibility:"off"}]},{featureType:"water",elementType:"labels",stylers:[{visibility:"on"},{lightness:-25},{saturation:-100}]},{featureType:"water",elementType:"geometry",stylers:[{hue:"#ffff00"},{lightness:-25},{saturation:-97}]}],g=(typeof $(this).attr("data-map-zoom")!=="undefined"&&$(this).attr("data-map-zoom")!=="")?$(this).attr("data-map-zoom")*1:17,i=typeof $(this).attr("data-latlong")!="undefined"?$(this).attr("data-latlong"):false,m=i?1*i.substr(0,i.indexOf(",")):false,b=i?1*i.substr(i.indexOf(",")+1):false,h=new google.maps.Geocoder(),n=typeof $(this).attr("data-address")!=="undefined"?$(this).attr("data-address").split(";"):false,o="We Are Here",a=$(document).width()>766?true:false,d,l,j,f={draggable:a,scrollwheel:false,zoom:g,disableDefaultUI:true,styles:k};if($(this).attr("data-marker-title")!=undefined&&$(this).attr("data-marker-title")!=""){o=$(this).attr("data-marker-title")}if(n!=undefined&&n[0]!=""){h.geocode({address:n[0].replace("[nomarker]","")},function(q,p){if(p==google.maps.GeocoderStatus.OK){var r=new google.maps.Map(e,f);r.setCenter(q[0].geometry.location);n.forEach(function(u){var v;j={url:window.mr_variant==undefined?"img/mapmarker.png":"../img/mapmarker.png",size:new google.maps.Size(50,50),scaledSize:new google.maps.Size(50,50)};if(/(\-?\d+(\.\d+)?),\s*(\-?\d+(\.\d+)?)/.test(u)){var s=u.split(","),t=new google.maps.Marker({position:{lat:1*s[0],lng:1*s[1]},map:r,icon:j,title:o,optimised:false})}else{if(u.indexOf("[nomarker]")<0){v=new google.maps.Geocoder();v.geocode({address:u.replace("[nomarker]","")},function(x,w){if(w==google.maps.GeocoderStatus.OK){console.log(x[0].geometry.location);t=new google.maps.Marker({map:r,icon:j,title:o,position:x[0].geometry.location,optimised:false})}})}}})}else{console.log("There was a problem geocoding the address.")}})}else{if(m!=undefined&&m!=""&&m!=false&&b!=undefined&&b!=""&&b!=false){f.center={lat:m,lng:b};d=new google.maps.Map(e,f);l=new google.maps.Marker({position:{lat:m,lng:b},map:d,icon:j,title:o})}}})}}};initializeMaps();var mr_cookies={getItem:function(a){if(!a){return null}return decodeURIComponent(document.cookie.replace(new RegExp("(?:(?:^|.*;)\\s*"+encodeURIComponent(a).replace(/[\-\.\+\*]/g,"\\$&")+"\\s*\\=\\s*([^;]*).*$)|^.*$"),"$1"))||null},setItem:function(d,g,c,b,a,e){if(!d||/^(?:expires|max\-age|path|domain|secure)$/i.test(d)){return false}var f="";if(c){switch(c.constructor){case Number:f=c===Infinity?"; expires=Fri, 31 Dec 9999 23:59:59 GMT":"; max-age="+c;break;case String:f="; expires="+c;break;case Date:f="; expires="+c.toUTCString();break}}document.cookie=encodeURIComponent(d)+"="+encodeURIComponent(g)+f+(a?"; domain="+a:"")+(b?"; path="+b:"")+(e?"; secure":"");return true},removeItem:function(c,b,a){if(!this.hasItem(c)){return false}document.cookie=encodeURIComponent(c)+"=; expires=Thu, 01 Jan 1970 00:00:00 GMT"+(a?"; domain="+a:"")+(b?"; path="+b:"");return true},hasItem:function(a){if(!a){return false}return(new RegExp("(?:^|;\\s*)"+encodeURIComponent(a).replace(/[\-\.\+\*]/g,"\\$&")+"\\s*\\=")).test(document.cookie)},keys:function(){var a=document.cookie.replace(/((?:^|\s*;)[^\=]+)(?=;|$)|^\s*|\s*(?:\=[^;]*)?(?:\1|$)/g,"").split(/\s*(?:\=[^;]*)?;\s*/);for(var c=a.length,b=0;b<c;b++){a[b]=decodeURIComponent(a[b])}return a}};